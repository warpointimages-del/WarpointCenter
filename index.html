<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WorkSchedule</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script type="module" src="firebase.js"></script>
    <script type="module" src="admin-panel.js"></script>
    <script type="module" src="script.js"></script>
</head>
<body>
    <div id="app">
        <!-- –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã -->
        <div class="ellipse7"></div>
        <div class="ellipse6"></div>
        <div class="ellipse5"></div>
        <div class="ellipse8"></div>
        
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ Warpoint Tracker -->
        <div class="app-header">
            <div class="warpoint">WARPOINT</div>
            <div class="tracker">TRACKER</div>
        </div>
        
        <!-- –ó–∞–≥—Ä—É–∑–∫–∞ -->
        <div id="loading">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        
        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <div id="main-content" class="hidden">
            <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ó–∞–¥–∞—á -->
            <div id="tasks-page" class="page hidden">
                <div class="page-header">
                    <h1>–ó–∞–¥–∞—á–∏</h1>
                </div>
                <div class="page-content">
                    <div class="empty-state">
                        <div class="empty-icon">üìã</div>
                        <h3>–ó–∞–¥–∞—á–∏ –ø–æ—è–≤—è—Ç—Å—è —Å–∫–æ—Ä–æ</h3>
                        <p>–ó–¥–µ—Å—å –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤–∞—à–∏ —Ç–µ–∫—É—â–∏–µ –∑–∞–¥–∞—á–∏ –∏ –ø–æ—Ä—É—á–µ–Ω–∏—è</p>
                    </div>
                </div>
            </div>

            <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ì—Ä–∞—Ñ–∏–∫–∞ (–≥–ª–∞–≤–Ω–∞—è) -->
            <div id="schedule-page" class="page">
                <div class="page-header">
                    <h1>–ì—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—Ç—ã</h1>
                </div>
                <div class="page-content">
                    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Ç–µ–∫—É—â–µ–π —Å–º–µ–Ω—ã -->
                    <div id="current-shift-container" class="current-shift-container"></div>

                    <!-- –§–∏–ª—å—Ç—Ä—ã -->
                    <div id="filters-panel">
                        <label class="checkbox-container">
                            <input type="checkbox" id="show-only-mine">
                            <span class="checkmark"></span>
                            –¢–æ–ª—å–∫–æ –º–æ–∏ —Å–º–µ–Ω—ã
                        </label>
                    </div>

                    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –Ω–µ–¥–µ–ª—è–º/–º–µ—Å—è—Ü–∞–º -->
                    <div id="navigation">
                        <button id="prev-week" class="nav-btn">‚Üê</button>
                        <div id="current-period"></div>
                        <button id="next-week" class="nav-btn">‚Üí</button>
                    </div>

                    <!-- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∏–¥–∞ -->
                    <button id="toggle-view" class="toggle-btn">‚ñº</button>

                    <!-- –ö–∞–ª–µ–Ω–¥–∞—Ä—å -->
                    <div id="calendar-container">
                        <div id="week-view"></div>
                        <div id="month-view" class="hidden"></div>
                    </div>
                </div>
            </div>

            <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ü—Ä–æ—Ñ–∏–ª—è -->
            <div id="profile-page" class="page hidden">
                <div class="page-header">
                    <h1>–ü—Ä–æ—Ñ–∏–ª—å</h1>
                </div>
                <div class="page-content">
                    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ -->
                    <div class="user-info-section">
                        <div class="user-avatar">
                            <div class="avatar-placeholder" id="user-avatar-placeholder">
                                U
                            </div>
                        </div>
                        <div class="user-details">
                            <h2 id="user-fullname"></h2>
                            <p id="user-username"></p>
                            <div class="user-status" id="user-status"></div>
                            <div class="user-position" id="user-position"></div>
                        </div>
                    </div>

                    <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ü–≤–µ—Ç–æ–≤ -->
                    <div class="settings-section">
                        <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è</h3>
                        <div id="color-picker-container"></div>
                    </div>

                    <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ -->
                    <div class="settings-section">
                        <h3>–§–∏–ª—å—Ç—Ä—ã –≥—Ä–∞—Ñ–∏–∫–∞</h3>
                        <div class="filter-settings">
                            <label class="checkbox-container">
                                <input type="checkbox" id="global-show-only-registered">
                                <span class="checkmark"></span>
                                –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
                            </label>
                        </div>
                    </div>

                    <!-- –ê–¥–º–∏–Ω—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤) -->
                    <div id="admin-settings" class="settings-section hidden">
                        <h3>–ê–¥–º–∏–Ω—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
                        <div id="admin-panel-content">
                            <div id="users-list"></div>
                            <div id="registered-employees"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ù–æ–≤–æ–µ –Ω–∏–∂–Ω–µ–µ –º–µ–Ω—é –∏–∑ Figma -->
        <div id="bottom-navigation" class="hidden">
            <div class="nav-item" data-page="tasks">
                <div class="nav-icon tasks-icon">
                    <svg viewBox="0 0 24 24" fill="white">
                        <rect x="3" y="4" width="18" height="2" rx="1"></rect>
                        <rect x="3" y="9" width="18" height="2" rx="1"></rect>
                        <rect x="3" y="14" width="18" height="2" rx="1"></rect>
                        <rect x="3" y="19" width="18" height="2" rx="1"></rect>
                    </svg>
                </div>
                <div class="nav-label">–ó–∞–¥–∞—á–∏</div>
            </div>
            <div class="nav-item active" data-page="schedule">
                <div class="nav-icon schedule-icon">
                    <svg viewBox="0 0 310 310" fill="white">
                        <path d="M155,0C69.5,0,0,69.5,0,155s69.5,155,155,155s155-69.5,155-155S240.5,0,155,0z M155,285
                            C81.3,285,25,228.7,25,155S81.3,25,155,25s130,56.3,130,130S228.7,285,155,285z"/>
                        <polygon points="155,75 175,75 175,155 235,155 235,175 155,175"/>
                    </svg>
                </div>
                <div class="nav-label">–ì—Ä–∞—Ñ–∏–∫</div>
            </div>
            <div class="nav-item" data-page="profile">
                <div class="nav-icon profile-icon">
                    <svg viewBox="0 0 24 24" fill="white">
                        <circle cx="12" cy="7" r="5"></circle>
                        <path d="M3,22v-2c0-3.3,2.7-6,6-6h6c3.3,0,6,2.7,6,6v2"></path>
                    </svg>
                </div>
                <div class="nav-label">–ü—Ä–æ—Ñ–∏–ª—å</div>
            </div>
        </div>
    </div>
</body>
</html>
